
进入分布式和微服务时代，提倡每个进程只提供简单服务，通过api(rest或rpc)进行进程间的服务调用。
但是在一些场景下，单一进程的大型应用仍然免不了要出现，单一进程会包含下列功能:

- 调用数据库服务
- 调用云存储oss服务
- 调用其它进程的api服务
- 多个功能模块，模块间存在复杂的业务逻辑
- 缓存需求

出现单一复杂进程的原因如下:

- 一开始为简单功能的demo，随着需求累加，功能越来越复杂，在时间紧迫的情况下无法重构为良好的分布式微服务架构。
- 基于性能考虑，避免进程间频繁的api调用影响性能。
- 开发人员的架构掌控能力和编程能力都很强，即使不需要分布式多进程也能满足提供稳定的、高性能的复杂功能

根据经验,单一复杂进程的骨架设计如下:

- 启动文件：app.js        ==》rpc服务调度管理器，进程管理器、elk框架
- 全局缓存：globalCache.js==》redis\memcache
- 运行上下文对象:context   ==>api参数传递
- 各个功能模块             ===》微服务

其优点是:

- 开发效率极高，一个人可以顶一个团队
- 需求响应快
- 运行效率高，
- bug少
- 系统管理简单

其缺点是:
- 对开发人员的要求太高，能驾驭这种复杂程序的程序员，一个人可以顶得上的一个团队。若水平普通的程序员介入这种应用简直就是灾难。
- 程序的维护人员要保持高效率和高专注度，否则会造成灾难。
